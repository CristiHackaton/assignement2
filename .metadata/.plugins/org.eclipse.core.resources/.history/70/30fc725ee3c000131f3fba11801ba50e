package com.controller.dataAccess;

import javax.xml.bind.JAXBException;

import org.xml.sax.SAXException;

import com.model.user.User;
import com.model.user.UserListType;

public class UserXMLHandler extends AbstractXMLHandler {
    private static String XSD_PATH = "D://master//PS//As//BookStore//src//com//resources//userSchema.xsd";
    private static String XML_FILE_PATH = "D://master//PS//As//BookStore//src//com//resources//data//users.xml";

    public UserXMLHandler(final Class classToWrite) {
        setXmlDataFile(XML_FILE_PATH);
        setXsdPath(XSD_PATH);
        setClassToHandle(classToWrite);
    }

    public static void main(final String args[]) {
        UserListType list = new UserListType();
        User u = new User();
        u.setName("danny");
        u.setPassword("danny");
        u.setPhoneNumber("123243");
        u.setType(0);

        list.getUserList().add(u);
        UserXMLHandler usHandler = new UserXMLHandler(UserListType.class);
        try {
            usHandler.writeToFile(list);
        } catch (JAXBException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (SAXException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    @Override
    public void setXsdPath(final String xsdPath) {
        this.xsdPath = xsdPath;

    }

    @Override
    public void setXmlDataFile(final String xmlDataFile) {
        this.xmlDataFile = xmlDataFile;

    }

    @Override
    public void setClassToHandle(final Class classToWrite) {
        this.classToHandle = classToWrite;

    }

}
